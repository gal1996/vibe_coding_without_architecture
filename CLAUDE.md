# claude.md
# 依頼の目的：Vibe-Codingの有効性検証プロジェクト（実験記録準備）

## このリポジトリについて
**このリポジトリは「グループ A (No-Arch)」のリポジトリです。**
アーキテクチャの指示なしでVibe-Codingを実施し、その成果を記録します。

**開発言語:** Go (Golang)

この依頼は、ソフトウェア開発における「アーキテクチャの有無」がVibe-Codingの成果に与える影響を検証するための**実験計画と記録ルール**を定義し、必要な**記録ファイル**を準備することです。

## 1. 検証の目的と二つのグループ

**目的:** アーキテクチャあり/なしのVibe-Codingで開発されたコードベースの「効率」と「品質」を比較検証する。

**比較グループ:**
1.  **グループ A (No-Arch):** アーキテクチャの指示なし。
2.  **グループ B (With-Arch):** クリーンアーキテクチャ/DDDなどの指示あり。

## 2. 定量的な検証項目（機能開発単位）

検証は、アプリケーションの**機能開発（タスク）単位**で実施し、以下の項目を計測・記録します。

| カテゴリ | 項目 | 測定内容 | 検証フェーズ |
| :--- | :--- | :--- | :--- |
| **効率 (開発)** | 実行時間 (T_exec) | Vibe-Codingプロンプト入力からコードが動作するまでの時間（分）。 | 開発 |
| **品質 (開発)** | コード品質評価 (Q_dev) | Linter/Formatterの警告数、テストカバレッジの達成度 (%)。 | 開発 |
| **保守性 (変更)** | 変更タスク完了時間 (T_maint) | 仕様変更タスク完了までの実測時間（分）。 | 保守 |
| **保守性 (変更)** | 変更行数 (LOC_churn) | 変更/追加/削除したコードの行数。 | 保守 |
| **品質 (変更)** | 欠陥発生数 (Defects) | 変更タスク実行中に発見された新たなバグの数。 | 保守 |
| **理解度 (セルフ)** | 構造理解スコア (S_under) | 忘却期間後のセルフレビューによる5段階評価（1:低〜5:高）。 | 保守 |

## 3. 必要な記録ファイルとルール

上記測定項目を記録し、実験の再現性を高めるためのファイルを生成してください。

### 3.1. 実験記録シート (`experiment_log.csv`)

すべてのタスク結果を記録するため、以下のヘッダーを持つCSVファイルを生成してください。

**ヘッダー:**
`Task_ID`, `Group`, `Description`, `T_exec`, `Q_dev_Warnings`, `Q_dev_Coverage`, `T_maint`, `LOC_churn`, `Defects`, `S_under`

### 3.2. 計測補助ファイル (`measure_tools.sh`)

変更行数（LOC_churn）の計測を容易にするために、指定した**2つのディレクトリ間の差分行数**（追加、削除、変更の合計）を算出するシンプルなシェルスクリプトを生成してください。

**機能:** `diff` コマンドや `git diff` を応用し、指定された2つのファイルまたはディレクトリ間の変更行数を集計します。スクリプトは、2つのパスを引数として受け取るようにしてください。

### 3.3. プロンプト記録ファイル (`prompts_log.md`)

すべての開発プロンプトを時系列で記録するためのマークダウンファイルです。
各タスクのプロンプト内容、開始時刻、完了時刻、実行時間を記録します。

## 4. 作業開始前のルール

**重要: 開発プロンプトが投げられた際は、必ず以下の手順に従ってください:**

1. **プロンプトの記録**: まず`prompts_log.md`にプロンプト内容を記録
   - タスクIDを割り当て
   - 現在時刻を開始時刻として記録
   - プロンプトの全文を記録

2. **作業の実行**: プロンプトの記録完了後、実際の開発作業を開始

3. **完了時の記録**: 作業完了時に以下を更新
   - 完了時刻を記録
   - 実行時間（T_exec）を計算して記録
   - `experiment_log.csv`に測定結果を追記

この手順により、すべてのVibe-Coding作業が適切に記録され、実験データの完全性が保証されます。

## 5. 実行依頼

上記の要件に基づき、以下のファイルが生成されました：

* `experiment_log.csv` - 実験結果記録用
* `measure_tools.sh` - LOC変更行数計測用
* `prompts_log.md` - プロンプト履歴記録用
